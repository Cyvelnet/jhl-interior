(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1:function(t,e,s){"use strict";var a={data:function(){return{pMessages:this.messages}},props:{type:{default:"danger"},messages:{default:function(){return[]}}},computed:{alertClass:function(){return{"alert-success":"success"===this.type,"alert-danger":"danger"===this.type,"alert-warning":"warning"===this.type,"alert-info":"info"===this.type}},title:function(){return"danger"===this.type?"Oops!":"success"===this.type?"Great!":"warning"===this.type?"Snap!":"info"===this.type?"":void 0}},watch:{messages:function(t){this.pMessages=t}}},r=s(0),n=Object(r.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.pMessages.length?s("div",{staticClass:"alert",class:t.alertClass},[s("strong",{domProps:{textContent:t._s(t.title)}}),t._v(" "),t.pMessages.length>1?s("ul",t._l(t.pMessages,(function(e){return s("li",{domProps:{innerHTML:t._s(e)}})})),0):t._l(t.pMessages,(function(e){return s("p",{staticStyle:{"font-size":"inherit"},domProps:{innerHTML:t._s(e)}})}))],2):t._e()}),[],!1,null,"494a34d0",null).exports,i={props:{permissions:{required:!0,type:Array}},methods:{can:function(t){return this.permissions.indexOf(t)>=0},canAny:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.some((function(e){return t.permissions.includes(e)}))},cannot:function(t){return 0===this.permissions.indexOf(t)},cannotAll:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.permissions.includes(t)}}},o={extends:Object(r.a)(i,void 0,void 0,!1,null,"31519c40",null).exports,data:function(){return{isLoading:!0,isSaving:!1,isUpdating:!1,serverMessageType:"danger",serverMessages:[]}},methods:{resetMessages:function(){this.serverMessages=[]},processErrors:function(t){for(var e in this.resetMessages(),this.serverMessageType="danger",t)this.serverMessages.push(t[e][0]);this.$swal({text:this.serverMessages.join("\r\n"),toast:!0,position:"top-end",icon:"error",timer:5e3,timerProgressBar:!0,showConfirmButton:!1})},showSuccess:function(t){this.resetMessages(),this.serverMessageType="success",this.serverMessages.push(t),this.$swal({text:t,toast:!0,position:"top-end",icon:"success",timer:5e3,timerProgressBar:!0,showConfirmButton:!1})},handleError:function(t){422!==t.response.status?void 0!==t.response.data.message&&(this.resetMessages(),this.serverMessageType="danger",this.serverMessages.push(t.response.data.message),this.$swal({text:t.response.data.message,toast:!0,position:"top-end",icon:"error",showConfirmButton:!1})):this.processErrors(t.response.data.errors)}},computed:{},components:{Alert:n}},l=Object(r.a)(o,(function(){var t=this.$createElement;return(this._self._c||t)("div")}),[],!1,null,"1dafff83",null);e.a=l.exports},132:function(t,e,s){"use strict";s.r(e);var a=s(7),r={extends:s(8).a,data:function(){return{isLoading:!0,headers:[{label:"#",field:"id",width:"40px"},{label:"Project",field:"name"},{label:"Category",field:"project_category",width:"130px"},{label:"Value",field:"value",sortable:!0},{label:"Location",field:"location"},{label:"Client",field:"client_name"},{label:"Published",field:"is_published",width:"70px"},{label:"",field:"",width:"100px",sortable:!1,show:this.canPerformActions()}],dataRows:[],pagination:{current_page:1},queryParams:{perPage:15}}},props:{},methods:{search:function(){this.queryParams=Object.assign(this.queryParams,{sort:null,sort_direction:null,page:null}),this.getData()},switchPage:function(t){this.queryParams=Object.assign(this.queryParams,{page:t}),this.getData()},sort:function(t){this.queryParams=Object.assign(this.queryParams,{sort:t.field,sort_direction:t.order,page:1}),this.getData()},getData:function(){var t=this;this.isLoading=!0,axios.get("/api/admin/v1/projects",{params:Object.assign({include:"category"},this.queryParams)}).then((function(e){t.dataRows=e.data.data,t.pagination=e.data.meta.pagination})).finally((function(){t.isLoading=!1}))},askDeletion:function(t){var e=this;this.askConfirmation("Remove the selected project <strong>".concat(t.name,"</strong>."),(function(e){return axios.delete("/api/admin/v1/projects/".concat(t.id))}),(function(s){s.isConfirmed&&!0===s.value.data.is_success&&(e.showSuccess(s.value.data.message),e.dataRows=e.dataRows.filter((function(e){return e.id!==t.id})))}))},updatePublishingStatus:function(t){var e=this;this.isUpdating=!0,axios.patch("/api/admin/v1/projects/".concat(t.id,"/toggle-publish")).then((function(t){e.showSuccess(t.data.message)})).finally((function(){e.isUpdating=!1}))},canPerformActions:function(){return this.canAny(["projects.update","projects.delete"])}},computed:{},components:{TableHeader:a.a},watch:{},created:function(){this.getData()},mounted:function(){},beforeDestroy:function(){}},n=(s(75),s(0)),i=Object(n.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("page-header",{attrs:{title:"Projects"}}),t._v(" "),s("router-link",{staticClass:"btn btn-primary mb-3",attrs:{to:{name:"projects.create",params:{}}}},[s("i",{staticClass:"ik ik-plus"}),t._v(" New Project\n    ")]),t._v(" "),s("div",{staticClass:"card table-card"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"dataTables_wrapper dt-bootstrap4 no-footer"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-12 col-md-6"},[s("div",{staticClass:"dataTables_length"},[s("label",[t._v("Show "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.queryParams.perPage,expression:"queryParams.perPage"}],staticClass:"custom-select custom-select-sm form-control form-control-sm",staticStyle:{"min-width":"60px"},attrs:{name:"advanced_table_length","aria-controls":"advanced_table"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.queryParams,"perPage",e.target.multiple?s:s[0])},function(e){return t.getData()}]}},[s("option",{attrs:{value:"10"}},[t._v("10")]),t._v(" "),s("option",{attrs:{value:"15"}},[t._v("15")]),t._v(" "),s("option",{attrs:{value:"25"}},[t._v("25")]),t._v(" "),s("option",{attrs:{value:"50"}},[t._v("50")])]),t._v(" entries")])])]),t._v(" "),s("div",{staticClass:"col-sm-12 col-md-6"},[s("div",{staticClass:"dataTables_filter",attrs:{id:"advanced_table_filter"}},[s("label",[t._v("Search:"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.queryParams.search,expression:"queryParams.search"}],staticClass:"form-control form-control-sm",attrs:{type:"search","aria-controls":"advanced_table"},domProps:{value:t.queryParams.search},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)},input:function(e){e.target.composing||t.$set(t.queryParams,"search",e.target.value)}}})])])])])])]),t._v(" "),s("div",{staticClass:"card-block"},[s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-hover mb-0 dataTable "},[s("table-header",{attrs:{headers:t.headers,"enabled-checkall-slot":!1},on:{"sort-changed":t.sort}},[s("div",{staticClass:"custom-control custom-checkbox",attrs:{slot:"checkall"},slot:"checkall"},[s("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customCheck1",checked:""}}),t._v(" "),s("label",{staticClass:"custom-control-label checkbox-2x",attrs:{for:"customCheck1"}},[t._v("Â ")])])]),t._v(" "),s("tbody",[t._l(t.dataRows,(function(e){return s("tr",[s("td",{domProps:{textContent:t._s(e.id)}}),t._v(" "),s("td",{domProps:{textContent:t._s(e.name)}}),t._v(" "),s("td",[s("span",{staticClass:"badge badge-green text-white",domProps:{textContent:t._s(e.category.name)}})]),t._v(" "),s("td",{domProps:{textContent:t._s(e.currency+e.value)}}),t._v(" "),s("td",{domProps:{textContent:t._s(e.location||"--Unspecified--")}}),t._v(" "),s("td",{domProps:{textContent:t._s(e.client_name)}}),t._v(" "),s("td",[t.can("projects.update")?s("toggle-button",{attrs:{sync:!0,color:{checked:"#26C281"},width:55,labels:{checked:"Yes",unchecked:"No"},height:25},on:{change:function(s){return t.updatePublishingStatus(e)}},model:{value:e.is_published,callback:function(s){t.$set(e,"is_published",s)},expression:"row.is_published"}}):s("span",{staticClass:"badge",class:{"badge-success":e.is_published,"badge-yellow text-white":!e.is_published}},[t._v("\n                                "+t._s(e.is_published?"Published":"Pending")+"\n                            ")])],1),t._v(" "),t.canPerformActions()?s("td",{staticClass:"text-right"},[t.can("projects.update")?s("router-link",{attrs:{to:{name:"projects.edit",params:{id:e.id}}}},[s("i",{staticClass:"ik ik-edit f-16 mr-15 text-green"})]):t._e(),t._v(" "),t.can("projects.delete")?s("a",{attrs:{href:"#!"},on:{click:function(s){return s.preventDefault(),t.askDeletion(e)}}},[s("i",{staticClass:"ik ik-trash-2 f-16 text-red"})]):t._e()],1):t._e()])})),t._v(" "),0!==t.dataRows.length||t.isLoading?t._e():s("tr",[s("td",{staticClass:"text-center",attrs:{colspan:t.headers.length}},[t._v("No Records Found.")])])],2)],1)]),t._v(" "),s("div",{staticClass:"float-right mt-30"},[(t.pagination.total_pages||1)>1?s("pagination",{attrs:{"page-count":t.pagination.total_pages||1,"margin-pages":2,"click-handler":t.switchPage,"prev-text":"&laquo;","next-text":"&raquo;","container-class":"pagination","page-class":"page-item","page-link-class":"page-link","prev-link-class":"page-link","prev-class":"page-item","next-class":"page-item","next-link-class":"page-link"},model:{value:t.pagination.current_page,callback:function(e){t.$set(t.pagination,"current_page",e)},expression:"pagination.current_page"}}):t._e()],1)])])],1)}),[],!1,null,"9362d566",null);e.default=i.exports},23:function(t,e,s){var a=s(76);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};s(3)(a,r);a.locals&&(t.exports=a.locals)},7:function(t,e,s){"use strict";var a={data:function(){return{pCurrentOrder:this.currentOrder,pCurrentField:this.currentField,pWidth:this.width}},props:{label:{required:!0,type:String},field:{required:!0,type:String},width:{required:!1,type:String},currentOrder:{required:!0,type:String},currentField:{required:!0}},methods:{changeOrder:function(){this.$emit("sort-changed",{field:this.field,label:this.label,order:this.getSortOrder()})},getSortOrder:function(){return this.currentField===this.field&&"asc"===this.pCurrentOrder?"desc":"asc"}},computed:{},components:{},watch:{currentOrder:function(t){this.pCurrentOrder=t},currentField:function(t){this.pCurrentField=t},width:function(t){this.pWidth=t}},created:function(){},mounted:function(){},beforeDestroy:function(){}},r=s(0),n=Object(r.a)(a,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("a",{staticStyle:{color:"inherit",display:"inline-block",width:"100%"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.changeOrder(e)}}},[t._v("\n        "+t._s(t.label)+"\n")])}),[],!1,null,"06ff1f34",null).exports,i={data:function(){return{pHeaders:this.headers,pSortField:this.sortField,pSortOrder:this.sortOrder}},props:{headers:{required:!1,type:Array,default:function(){return[{label:"Label",field:"field",sortable:!1}]}},rows:{required:!1,type:Array,default:function(){return[]}},sortField:{default:null},sortOrder:{default:"asc"},enabledCheckallSlot:{default:!1},checkallSlotWidth:{}},methods:{sortChanged:function(t){this.pSortField=t.field,this.pSortOrder=t.order,this.$emit("sort-changed",t)},thStyles:function(t){return{width:t}}},computed:{checkAllSlotStyle:function(){return{width:this.checkallSlotWidth||"20px"}}},watch:{headers:function(t){console.dir(t),this.pHeaders=t},sortOrder:function(t){this.pSortOrder=t},sortField:function(t){this.pSortField=t}},components:{SortableHeaderLink:n},created:function(){},mounted:function(){},beforeDestroy:function(){}},o=Object(r.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[t.enabledCheckallSlot?s("th",{style:t.checkAllSlotStyle},[t._t("checkall")],2):t._e(),t._v(" "),t._l(t.pHeaders,(function(e,a){return!1!==e.show?s("th",{key:a,class:{sorting:!1!==e.sortable,sorting_desc:t.pSortField===e.field&&"desc"===t.pSortOrder,sorting_asc:t.pSortField===e.field&&"asc"===t.pSortOrder},style:t.thStyles(e.width)},[!1!==e.sortable?s("sortable-header-link",{attrs:{label:e.label,field:e.field,"current-order":t.pSortOrder,"current-field":t.pSortField},on:{"sort-changed":t.sortChanged}}):[t._v("\n            "+t._s(e.label)+"\n        ")]],2):t._e()}))],2)])}),[],!1,null,"d9bcc9d6",null);e.a=o.exports},75:function(t,e,s){"use strict";var a=s(23);s.n(a).a},76:function(t,e,s){(t.exports=s(2)(!1)).push([t.i,"td .vue-js-switch[data-v-9362d566] {\n  margin-bottom: 0;\n}",""])},8:function(t,e,s){"use strict";var a={extends:s(1).a,data:function(){return{}},methods:{askConfirmation:function(t,e,s){var a=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.$swal(Object.assign({title:"Are you sure?",html:t,icon:"info",reverseButtons:!0,confirmButtonColor:"#f54165",showLoaderOnConfirm:!0,allowOutsideClick:function(){return!a.$swal.isLoading()},confirmButtonText:"OK",cancelButtonText:"Cancel",showCancelButton:!0,preConfirm:e},r)).then(s)}},watch:{}},r=s(0),n=Object(r.a)(a,void 0,void 0,!1,null,"44c5ba87",null);e.a=n.exports}}]);