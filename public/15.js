(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{175:function(e,s,t){"use strict";var r=t(43);t.n(r).a},176:function(e,s,t){(e.exports=t(4)(!1)).push([e.i,".Password[data-v-29e1743f] {\n  max-width: unset;\n  margin: unset;\n}\n.Password__strength-meter[data-v-29e1743f] {\n  margin: 5px auto 8px;\n}",""])},354:function(e,s,t){"use strict";t.r(s);var r=t(6),a=t(19),n=t.n(a),o=t(11),i=t(26),l=t.n(i);function u(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);s&&(r=r.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?u(Object(t),!0).forEach((function(s){d(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}function d(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}var p={extends:r.a,data:function(){return{optRoles:[],isLoadingRoles:!1,newRoles:[],user:{name:"",email:"",contact_no:"",password:"",roles:{data:[]}}}},props:{},methods:{save:function(){var e=this;this.isSaving=!0,axios.patch("/api/admin/v1/users/".concat(this.$route.params.id),this.user).then((function(s){e.showSuccess(s.data.message),e.$router.back()}),(function(s){e.handleError(s)})).finally((function(){e.isSaving=!1}))},addRoleTag:function(e){var s={name:e};this.newRoles.push(e),this.optRoles.push(s),this.user.roles.data.push(s)},getOptRoles:function(){return axios.get("/api/admin/v1/data/roles",{params:{}})},getUser:function(){return axios.get("/api/admin/v1/users/".concat(this.$route.params.id),{params:{include:"roles"}})}},computed:{},components:{VueSelect:n.a,PasswordMeter:l.a},watch:{},created:function(){VeeValidateExtend("email",c(c({},o.b),{},{message:"The {_field_} field is not a valid email."})),VeeValidateExtend("min",c(c({},o.c),{},{message:"The {_field_} field must be at least {length} characters.",params:["length"]})),VeeValidateExtend("confirmed",c({},o.a))},mounted:function(){var e=this;this.isLoading=!0,axios.all([this.getOptRoles(),this.getUser()]).then(axios.spread((function(s,t){e.user=t.data,e.optRoles=s.data.data}))).finally((function(){e.isLoading=!1}))},beforeDestroy:function(){}},v=(t(25),t(175),t(0)),f=Object(v.a)(p,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("page-header",{attrs:{title:"Edit User"}}),e._v(" "),t("a",{staticClass:"btn btn-outline-info mb-3",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.$router.back()}}},[t("i",{staticClass:"ik ik-chevron-left"}),e._v("\n        Back")]),e._v(" "),t("div",{staticClass:"card"},[t("div",{staticClass:"card-body"},[t("alert",{attrs:{type:e.serverMessageType,messages:e.serverMessages}}),e._v(" "),t("ValidationObserver",{ref:"observer",attrs:{tag:"form"},scopedSlots:e._u([{key:"default",fn:function(s){var r=s.handleSubmit,a=s.invalid;return[t("form",{attrs:{autocomplete:"off"},on:{submit:function(s){return s.preventDefault(),r(e.save)}}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-3"},[t("h6",[e._v("User Information")])]),e._v(" "),t("div",{staticClass:"col-md-9"},[t("div",{staticClass:"col-md-8"},[t("ValidationProvider",{attrs:{rules:"required",name:"Name"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",{staticClass:"form-group"},[t("label",[e._v("Name")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],staticClass:"form-control",class:s.classes,attrs:{type:"text"},domProps:{value:e.user.name},on:{input:function(s){s.target.composing||e.$set(e.user,"name",s.target.value)}}}),e._v(" "),s.errors.length?t("span",{staticClass:"invalid-feedback"},[e._v(e._s(s.errors[0]))]):e._e()])]}}],null,!0)}),e._v(" "),t("ValidationProvider",{attrs:{rules:"required|email",name:"Email"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",{staticClass:"form-group"},[t("label",[e._v("Email")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"form-control",class:s.classes,attrs:{type:"email"},domProps:{value:e.user.email},on:{input:function(s){s.target.composing||e.$set(e.user,"email",s.target.value)}}}),e._v(" "),s.errors.length?t("span",{staticClass:"invalid-feedback"},[e._v(e._s(s.errors[0]))]):e._e()])]}}],null,!0)}),e._v(" "),t("ValidationProvider",{attrs:{rules:"",name:"Contact Number"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",{staticClass:"form-group"},[t("label",{staticClass:"optional"},[e._v("Contact Number")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.contact_no,expression:"user.contact_no"}],staticClass:"form-control",class:s.classes,attrs:{type:"text"},domProps:{value:e.user.contact_no},on:{input:function(s){s.target.composing||e.$set(e.user,"contact_no",s.target.value)}}}),e._v(" "),s.errors.length?t("span",{staticClass:"invalid-feedback"},[e._v(e._s(s.errors[0]))]):e._e()])]}}],null,!0)}),e._v(" "),t("ValidationProvider",{attrs:{rules:"required",name:"Role"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",{staticClass:"form-group"},[t("label",[e._v("Role")]),e._v(" "),t("vue-select",{attrs:{options:e.optRoles,multiple:!0,taggable:!0,placeholder:"Select an user role",label:"name","track-by":"name",searchables:!0,loading:e.isLoadingRoles},on:{tag:e.addRoleTag},model:{value:e.user.roles.data,callback:function(s){e.$set(e.user.roles,"data",s)},expression:"user.roles.data"}}),e._v(" "),s.errors.length?t("span",{staticClass:"invalid-feedback"},[e._v(e._s(s.errors[0]))]):e._e()],1)]}}],null,!0)}),e._v(" "),t("ValidationProvider",{attrs:{rules:"min:8",name:"Password"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",{staticClass:"form-group"},[t("label",[e._v("Password")]),e._v(" "),t("password-meter",{attrs:{toggle:!0,placeholder:"Leave blank if you do not want to change it.","default-class":{"form-control":!0,"is-invalid":s.errors.length,"is-valid":0===s.errors.length},badge:!1},model:{value:e.user.password,callback:function(s){e.$set(e.user,"password",s)},expression:"user.password"}}),e._v(" "),s.errors.length?t("p",{staticClass:"invalid-feedback",class:{"d-block":s.errors.length}},[e._v(e._s(s.errors[0]))]):e._e()],1)]}}],null,!0)}),e._v(" "),t("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:a||e.isSaving}},[e.isSaving?t("span",[e._v("Saving...")]):t("span",[e._v("Save")])])],1)])])])]}}])})],1)])],1)}),[],!1,null,"29e1743f",null);s.default=f.exports},43:function(e,s,t){var r=t(176);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};t(5)(r,a);r.locals&&(e.exports=r.locals)},6:function(e,s,t){"use strict";var r={data:function(){return{pMessages:this.messages}},props:{type:{default:"danger"},messages:{default:function(){return[]}}},computed:{alertClass:function(){return{"alert-success":"success"===this.type,"alert-danger":"danger"===this.type,"alert-warning":"warning"===this.type,"alert-info":"info"===this.type}},title:function(){return"danger"===this.type?"Oops!":"success"===this.type?"Great!":"warning"===this.type?"Snap!":"info"===this.type?"":void 0}},watch:{messages:function(e){this.pMessages=e}}},a=t(0),n=Object(a.a)(r,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.pMessages.length?t("div",{staticClass:"alert",class:e.alertClass},[t("strong",{domProps:{textContent:e._s(e.title)}}),e._v(" "),e.pMessages.length>1?t("ul",e._l(e.pMessages,(function(s){return t("li",{domProps:{innerHTML:e._s(s)}})})),0):e._l(e.pMessages,(function(s){return t("p",{staticStyle:{"font-size":"inherit"},domProps:{innerHTML:e._s(s)}})}))],2):e._e()}),[],!1,null,"494a34d0",null).exports,o={props:{permissions:{required:!0,type:Array}},methods:{can:function(e){return this.permissions.indexOf(e)>=0},canAny:function(){var e=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.some((function(s){return e.permissions.includes(s)}))},cannot:function(e){return 0===this.permissions.indexOf(e)},cannotAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.permissions.includes(e)}}},i={extends:Object(a.a)(o,void 0,void 0,!1,null,"31519c40",null).exports,data:function(){return{isLoading:!0,isSaving:!1,isUpdating:!1,serverMessageType:"danger",serverMessages:[]}},methods:{resetMessages:function(){this.serverMessages=[]},processErrors:function(e){for(var s in this.resetMessages(),this.serverMessageType="danger",e)this.serverMessages.push(e[s][0]);this.$swal({text:this.serverMessages.join("\r\n"),toast:!0,position:"top-end",icon:"error",timer:5e3,timerProgressBar:!0,showConfirmButton:!1})},showSuccess:function(e){this.resetMessages(),this.serverMessageType="success",this.serverMessages.push(e),this.$swal({text:e,toast:!0,position:"top-end",icon:"success",timer:5e3,timerProgressBar:!0,showConfirmButton:!1})},handleError:function(e){422!==e.response.status?void 0!==e.response.data.message&&(this.resetMessages(),this.serverMessageType="danger",this.serverMessages.push(e.response.data.message),this.$swal({text:e.response.data.message,toast:!0,position:"top-end",icon:"error",showConfirmButton:!1})):this.processErrors(e.response.data.errors)}},computed:{},components:{Alert:n}},l=Object(a.a)(i,(function(){var e=this.$createElement;return(this._self._c||e)("div")}),[],!1,null,"1dafff83",null);s.a=l.exports}}]);